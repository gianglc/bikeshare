{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "from os import listdir\n",
    "import datetime"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [],
   "source": [
    "journals_dir = \"../journals/\"\n",
    "journals_doc = \"../docs/journals.md\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Open the document\n",
    "doc = open(journals_doc, 'w')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Markdown of what comes before the directory listing\n",
    "\n",
    "pre_markdown = \"\"\"\n",
    "\n",
    "# Journals\n",
    "\n",
    "Over the month, Giang and I have documented our process of decision making, analysis and insights into quick thoughts as journals. Theses ideas also outline the process of how we undertook the project over time and how we planned everything step by step. Feel free to take a look below.\n",
    "\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Write to the document\n",
    "doc.write()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "| `05, Nov 2018` | Why Bikeshare? | Swopnil | [![img_0](../images/link.png)](../journals/20181105_swopnil.html) |\n",
      "| `06, Nov 2018` | Selecting the Dataset: Motivations, Goals, Initial Ideas | Swopnil | [![img_1](../images/link.png)](../journals/20181106_swopnil.html) |\n",
      "| `07, Nov 2018` | First Observations about the Data | Swopnil | [![img_2](../images/link.png)](../journals/20181107_swopnil.html) |\n",
      "| `08, Nov 2018` | Ideas about Dataset Manipulation | Swopnil | [![img_3](../images/link.png)](../journals/20181108_swopnil.html) |\n",
      "| `09, Nov 2018` | Setup for journals (using Git and Markdown) | Swopnil | [![img_4](../images/link.png)](../journals/20181109_swopnil.html) |\n",
      "| `10, Nov 2018` | Basic Git command | Giang | [![img_5](../images/link.png)](../journals/20181110_giang.html) |\n",
      "| `10, Nov 2018` | Journal | Swopnil | [![img_6](../images/link.png)](../journals/20181110_swopnil.html) |\n",
      "| `11, Nov 2018` | Starting with Markdown lesson | Giang | [![img_7](../images/link.png)](../journals/20181111_giang.html) |\n",
      "| `11, Nov 2018` | Journal | Swopnil | [![img_8](../images/link.png)](../journals/20181111_swopnil.html) |\n",
      "| `12, Nov 2018` | Writing the Scripts and Normalizing the Data | Swopnil | [![img_9](../images/link.png)](../journals/20181112_swopnil.html) |\n",
      "| `13, Nov 2018` | Managing the Repository | Swopnil | [![img_10](../images/link.png)](../journals/20181113_swopnil.html) |\n",
      "| `14, Nov 2018` | Modules and Tools that we will be using | Swopnil | [![img_11](../images/link.png)](../journals/20181114_swopnil.html) |\n",
      "| `15, Nov 2018` | Data Visualization Project Management Schedule | Swopnil | [![img_12](../images/link.png)](../journals/20181115_swopnil.html) |\n",
      "| `18, Nov 2018` | Drawback of Self Reported Data | Swopnil | [![img_13](../images/link.png)](../journals/20181118_swopnil.html) |\n",
      "| `19, Nov 2018` | Fundamental Pandas Functions | Swopnil | [![img_14](../images/link.png)](../journals/20181119_swopnil.html) |\n",
      "| `20, Nov 2018` | Fundamental Pandas Functions (pt2) | Swopnil | [![img_15](../images/link.png)](../journals/20181120_swopnil.html) |\n",
      "| `21, Nov 2018` | Fundamental matplotlib | Swopnil | [![img_16](../images/link.png)](../journals/20181121_swopnil.html) |\n",
      "| `22, Nov 2018` | Transcription and Unification of the datasets | Giang | [![img_17](../images/link.png)](../journals/20181122_giang.html) |\n",
      "| `22, Nov 2018` | Journal | Swopnil | [![img_18](../images/link.png)](../journals/20181122_swopnil.html) |\n",
      "| `23, Nov 2018` | Journal | Swopnil | [![img_19](../images/link.png)](../journals/20181123_swopnil.html) |\n",
      "| `28, Nov 2018` | Time Distribution of the Work | Swopnil | [![img_20](../images/link.png)](../journals/20181128_swopnil.html) |\n",
      "| `29, Nov 2018` | Conclusions and Learning Summary | Swopnil | [![img_21](../images/link.png)](../journals/20181129_swopnil.html) |\n",
      "| `30, Nov 2018` | Journal | Swopnil | [![img_22](../images/link.png)](../journals/20181130_swopnil.html) |\n"
     ]
    }
   ],
   "source": [
    "link_num = 0\n",
    "for file_name in sorted(listdir(journals_dir)):\n",
    "    if file_name[0] != \".\" and file_name != 'complie_journal.ipynb':\n",
    "        \n",
    "        ''' File Input''' \n",
    "        # Take in the first line for a title\n",
    "        with open(journals_dir+file_name) as f:\n",
    "            first_line = f.readline().strip()\n",
    "            # Strip '#' sign out for markdown files\n",
    "            if first_line[0] == \"#\": first_line = first_line[1:].strip()\n",
    "                \n",
    "        title = first_line \n",
    "                \n",
    "        # Take filename \n",
    "        base = file_name.split(\".\")[0]\n",
    "        \n",
    "        ''' Author and Date'''\n",
    "        author = base.split(\"_\")[1].capitalize()\n",
    "        \n",
    "        date = base.split(\"_\")[0]\n",
    "        date = datetime.datetime.strptime(date,\"%Y%m%d\").strftime(\"%d, %b %Y\")\n",
    "                \n",
    "        '''' HTML Link Constructor '''\n",
    "        pre = '../journals/'\n",
    "        post = '.html'\n",
    "        link = pre+base+post\n",
    "        \n",
    "        ''' Markdown Output Link Constructor '''\n",
    "        \n",
    "        link_img = \"![img_{}](../images/link.png)\".format(link_num)\n",
    "        link_num += 1\n",
    "        \n",
    "        md_link = \"[{}]({})\".format(link_img,link)\n",
    "        \n",
    "        ''' Markdown Line '''\n",
    " \n",
    "        # Date | Title | Author | Link\n",
    "        md_line = \"| `{}` | {} | {} | {} |\".format(date, title, author, md_link)\n",
    "\n",
    "        print(md_line)\n",
    "        \n",
    "        # Write to Markdown document\n",
    "#         doc.write(\"\\n\"+md_line)\n",
    "        "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
